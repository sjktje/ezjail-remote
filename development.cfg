[buildout]
extends = versions.cfg
extensions = buildout.dumppickedversions
develop = src/ezjail.remote
parts =
    ezjail-remote
    fabric
    test
    coverage-test
    coverage-report
versions = versions

[ezjail-remote]
recipe = zc.recipe.egg
eggs = ezjail.remote

[fabric]
recipe = zc.recipe.egg
eggs = Fabric

[test]
recipe = zc.recipe.testrunner
eggs = 
    ezjail.remote [tests]
defaults = ['-v', '--auto-color', '-1']

[coverage-test]
recipe = zc.recipe.egg
eggs = coverage
       zope.testrunner
       ezjail.remote [tests]
scripts =
    coverage=coverage-test
initialization =
    sys.argv[1:1] = ['run', '--rcfile=${buildout:directory}/etc/coverage.ini', '${buildout:bin-directory}/test']

[coverage-report]
recipe = zc.recipe.egg
eggs = coverage
scripts =
    coverage=coverage-report
initialization =
    sys.argv = sys.argv[:] + ['html',  '--rcfile=${buildout:directory}/etc/coverage.ini']
